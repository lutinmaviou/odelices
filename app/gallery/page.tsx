'use client';
import type { Metadata } from 'next';
import Image from 'next/image';
import './gallery.scss';
import { useCallback } from 'react';
import { PhotoAlbum, RenderPhotoProps } from 'react-photo-album';

/* export const metadata: Metadata = {
  title: "Galerie d'images | Ô Délices de Bertrand",
  description: 'Generated by create next app',
}; */

interface Img {
  src: string;
  alt: string;
  width: number;
  height: number;
}

const photo = [
  {
    src: '/assets/img/anniv2.jpg',
    alt: 'clafoutis aux pommes',
    width: 500,
    height: 667,
  },
  {
    src: '/assets/img/clafoutis-pommes.jpg',
    alt: 'clafoutis aux pommes et amandes',
    width: 500,
    height: 513,
  },
  {
    src: '/assets/img/truite.jpg',
    alt: `Truite rôtie à l'unilatérale`,
    width: 800,
    height: 600,
  },
  {
    src: '/assets/img/dahl.jpg',
    alt: 'Dahl indien, oeuf de caille',
    width: 600,
    height: 800,
  },
  {
    src: '/assets/img/coque-choco.png',
    alt: 'Coque en chocolat noir, fruits de saison',
    width: 769,
    height: 800,
  },
  {
    src: '/assets/img/tagliatelles-crevettes.jpg',
    alt: 'Tagliatelles aux crevettes et pesto',
    width: 600,
    height: 800,
  },
  {
    src: '/assets/img/maki.jpg',
    alt: 'Tagliatelles aux crevettes et persillade',
    width: 600,
    height: 800,
  },
  {
    src: '/assets/img/salade-gesiers.jpg',
    alt: `Salade de gésiers d'Halloween`,
    width: 600,
    height: 612,
  },
  {
    src: '/assets/img/sushi.jpg',
    alt: 'Assiette de sushi',
    width: 600,
    height: 800,
  },
  {
    src: '/assets/img/veloute-potiron.jpg',
    alt: `Velouté de légumes d'automne, tartine de magret de canard`,
    width: 800,
    height: 600,
  },
  {
    src: '/assets/img/makizushi.jpg',
    alt: 'Assiette de maki',
    width: 600,
    height: 800,
  },
  {
    src: '/assets/img/terrine-fraises.jpg',
    alt: 'Terrine au chocolat blanc et fraises',
    width: 600,
    height: 800,
  },
  {
    src: '/assets/img/clafoutis-cerises.jpg',
    alt: 'Clafoutis aux cerises sorti du four',
    width: 600,
    height: 800,
  },
  {
    src: '/assets/img/tartiflettes.jpg',
    alt: 'Tartiflettes revisitées',
    width: 600,
    height: 800,
  },
  {
    src: '/assets/img/tarti-coulante.jpg',
    alt: 'Tartiflette coulante',
    width: 600,
    height: 800,
  },
  {
    src: '/assets/img/table.jpg',
    alt: 'Table dressée avec sushi',
    width: 800,
    height: 768,
  },
  {
    src: '/assets/img/sushi-roll.gif',
    alt: 'Gif animé : roulage de makizushi',
    width: 600,
    height: 450,
  },
];

const Gallery = () => {
  const renderPhoto = useCallback(
    ({ imageProps: { alt, style, ...rest } }: RenderPhotoProps) => (
      <img
        alt={alt}
        style={{
          ...style,
          borderRadius: '0.5vw',
          boxShadow:
            '0px 3px 3px -2px rgb(0 0 0 / 20%), 0px 3px 4px 0px rgb(0 0 0 / 14%), 0px 1px 8px 0px rgb(0 0 0 / 12%)',
          backgroundColor: 'white',
        }}
        {...rest}
      />
    ),
    []
  );
  return (
    <main className="gallery-container handlee select-none py-[15dvh]">
      <h2 className="font-bold text-center underline text-3xl">Gallerie d'images</h2>
      <section className="my-10 w-2/3 m-auto">
        <PhotoAlbum
          layout="rows"
          photos={photo}
          spacing={30}
          padding={25}
          targetRowHeight={400}
          renderPhoto={renderPhoto}
        />
      </section>
    </main>
  );
};

export default Gallery;
